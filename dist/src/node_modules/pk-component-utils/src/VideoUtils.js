window.Utils = window.Utils || {}
Utils.tracker = function (s, u, d) {
	if (typeof(Monet) !== "undefined") {
		Monet.logEvent(s, {"url": u, "pos": d.time});
	}
	if (typeof(Enabler) !== "undefined") {
		switch (s) {
			case "VIDEO_FIRST_QUART":
				Enabler.counter("VIDEO_FIRST_QUART");
				break;
			case "VIDEO_SECOND_QUART":
				Enabler.counter("VIDEO_SECOND_QUART");
				break;
			case "VIDEO_THIRD_QUART":
				Enabler.counter("VIDEO_THIRD_QUART");
				break;
			case "VIDEO_PLAY":
				Enabler.counter("VIDEO_PLAY");
				break;
			case "VIDEO_COMPLETE":
				Enabler.counter("VIDEO_COMPLETE");
				break;
			case "VIDEO_PAUSE":
				Enabler.counter("VIDEO_PAUSE");
				break;
			case "VIDEO_STOP":
				Enabler.counter("VIDEO_STOP");
				break;
			case "VIDEO_UNMUTE":
				Enabler.counter("VIDEO_UNMUTE");
				break;
			case "VIDEO_MUTE":
				Enabler.counter("VIDEO_MUTE");
				break;
			case "VIDEO_STOP":
				Enabler.counter("VIDEO_STOP");
				break;
		}
	}
};

Utils.isAutoplayAvailable = function () {
	if (!this.isMobile) return true;
	if (!this.isiOS) {
		return true;
	} else if (this.isSafari) {
		if (this.isiPad)
			var os = Number(navigator.userAgent.split('iPad')[1].split(' ')[3].replace('_', '.'));
		else
			var os = navigator.userAgent.split('iPhone OS ')[1].split(' ')[0].split('_')[0];
		if (os >= 10)
			return true;
		else
			return false;
	} else {
		return false;
	}
}

Utils.timeFormat = function (time) {
	var sn = parseInt(time, 10);
	var h  = Math.floor(sn / 3600);
	var m  = Math.floor((sn - (h * 3600)) / 60);
	var s  = sn - (h * 3600) - (m * 60);
	if (m < 10) {
		m = m;
	}
	if (s < 10) {
		s = "0" + s;
	}
	var t = (m || 0) + ':' + (s || "00");
	return t;
};