# Netflix Generic Source - PACKAGE


## Overview
Utility for component authors to:
 - path to external assets (js, css, images, fonts, etc)
 - have the sources be available to the component at runtime
 - surface the dependencies to webpack compilers

## Usage
Works in conjuction with the web-component build script `npm run build`. 


### Pathing Assets
In your component code, paths to external assets must be written like so:
```javascript
var image = document.createElement('img');
image.src = ComponentAssets.get('images/rubber_ducky_1.png');
```

Doing so will guarantee the portability of this component as a module.


### Declaring Assets
Assets that are loaded by components need to be declared in the `manifest.json`. 

When the `npm run build` script is executed, several things will happen.

1) imports will be created in `./index.js` for all the `assets` paths that are declared in the `manifest.json`.
2) entries will be added in `./index.js` to `ComponentAssets` for each asset-path in the manifest. 

For example, the following `manifest.json` will produce the subsequent `index.js`:

**manifest.json**
```json
	...
	"files": {
		"js": [
			"node_modules/pk-component-assets/src/main.js",
			"component-template.js",
			"24654ca0-2e5c-40d1-bf99-302b8d339c90.js"
		],
		"assets": [
			"images/rubber_ducky_1.png"
		]
	},
	...
```

**index.js**
```javascript
import './src/node_modules/pk-component-assets/src/main.js'
import './src/component-template.js'
import './src/24654ca0-2e5c-40d1-bf99-302b8d339c90.js'

import rubberDucky1 from './src/images/rubber_ducky_1.png'
ComponentAssets.add('images/rubber_ducky_1.png', rubberDucky1)

```

Component-users then only need to install & import the `index.js` in their webpack project -- 
the dependencies will all package/reference correctly.





## Note about this Scaffold
This repo was generated by Container 2.0 using  
[NetflixAdsEng/da-generic-source-scaffolding](https://github.com/NetflixAdsEng/da-generic-source-scaffolding). 

To affect the initial state of these repos (for example, this README), please review that project and commit accordingly.

